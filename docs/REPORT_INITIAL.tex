\documentclass[12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{tasks}
\usepackage[table]{xcolor}
\definecolor{tablegrey}{rgb}{0.9,0.9,0.9}
\graphicspath{ {images/} }
\title{MeamDB}

\date{\today}

\author{MEAM Programming Team \\
Student 1 asr3571: Anthony Roberts\\
Student 2 mnc7702: Michael Clark\\
Student 3 mad1943: Makenzie Dorsey\\
Student 4 tts1848: Emi Simpson\\
}

\begin{document}

    \maketitle

    \section{Introduction}
    For this project, we would like to work with the Music Domain
    and our backup option will be the Recipes Domain. We plan to
    implement our project using Java and JavaFX.
    \\~\\
    \noindent Our database application will be run through the command line
    and will feature a JavaFX GUI in order to obtain input from the
    user. We will design the application to be highly usable, provide
    user security, data integrity, and efficient access to the stored data.

    \section{Design}
    \subsection{Conceptual Model}
    While our ER Diagram will list an 'id' attribute for each of our entity types,
    in order to distinguish between these unique keys in relationship tables, the
    following will apply to all entity identifiers:
    \\~\\
    \begin{tasks}
        \task Album: album\_id
        \task Artist: artist\_id
        \task Song: sid
        \task User: uid
        \task Collection: cid
    \end{tasks}
    \\~\\

    \includegraphics[width=5.5in]{ER-Diagram.png}
    \caption{MeamDB ER Diagram showing entities and relationships}
    \label{ER Diagram}

    \\~\\
    For our ER diagram, we first decided to have five entity types:
    Artist, Song, Collection, Album, and User. We gave entity type User the attributes
    username, password, composite attribute name (first\_name, last\_name), email, and
    last\_login. The email and username will have the restriction that it must be unique
    for each user. The key for User will be a uid that is generated when a new user is
    created. The uid will allow users to update their name, email, and password without
    changing the key.
    \\~\\
    We gave the Artist the attributes name, and the key artist\_id that
    will be generated when an artist is created. This will allow artists to change their
    name (like Prince) should they choose or have any legal issues with their label. The
    name will have the restriction that it must be unique to the artist.
    \\~\\
    The Album entity type has the attributes name and release\_date, and the
    genre that will be derived based on the artist(s) who made it. The genre will be
    multivalued as well, as many albums or artists can span multiple genres. The key
    attribute will be an album\_id generated when an album is created. This allows albums
    with the same name and albums with multiple artists.
    \\~\\
    In our design, Song has title, length, genre, release\_date. We will
    generate a sid to be the key attribute to allow us to distinguish between songs with
    the same name, length, artist and release\_date.
    \\~\\
    Each Collection has a name and key attribute cid. We will calculate
    the no\_songs and total\_length based on the songs that are placed in the collection.

    \subsection{Reduction to tables}

    \begin{itemize}
        \item Album( \underline{album\_id}, name, release\_date )
        \item Artist( \underline{artist\_id}, name )
        \item Song( \underline{sid}, length, title, genre, release\_date )
        \item User( \underline{uid}, username, password, fname, lname, email, last\_login, creation\_date )
        \item Collection( \underline{cid}, name, \emph{uid} )
        \item Album\_Song( \underline{ \emph{album\_id} }, \underline{ \emph{sid} }, track\_number )
        \item Album\_Artist( \underline{ \emph{album\_id} }, \underline{ \emph{artist\_id} } )
        \item Song\_Artist( \underline{ \emph{sid} }, \underline{ \emph{artist\_id} } )
        \item Song\_Collection( \underline{ \emph{sid} }, \underline{ \emph{cid} } )
        \item Follower( \underline{ \emph{follower} }, \underline{ \emph{followed} } )
        \item Play( \underline{ \emph{uid} }, \underline{ \emph{sid} }, last\_time\_listened )
    \end{itemize}
    \\~\\
    We created separate tables (Album, Artist, Song, Collection, User) for each of our
    entities and used foreign keys to represent the relationships between the different entities.
    \begin{itemize}
        \item Album Entity Type: The relationship between the Album entity type and other entity types such as Song and Artist is represented by creating new tables like Album\_Song and Album\_Artist that have the album\_id key attribute as a foreign key. This allows the Song and Artist entities to be directly related to the Album.
        \item Artist Entity Type: The Artist entity type is related to the Song entity type through a new table Song\_Artist that utilizes the artist\_id as a foreign key similar to how the Artist is also related to the Album through the Album\_Artist table.
            \begin{itemize}
                \item Artists have an N:M relationship with albums. An artist can have 0 to many albums and an album must have at least 1 artist.
                \item Artists have an N:M relationship with songs. A song can be made by at least one artist and an artist can have 0 to many songs.

            \end{itemize}
                \item Song Entity Type: The Artist, Album, and Collection entities are related to the Song entity through the Album\_Song, Song\_Artist and Song\_Collection tables that all use the song\_id attribute to distinguish how they relate with the Song entity.
            \begin{itemize}
                \item Songs have an N:M relationship with collections. A song can be on 0 to many collections, and a collection must have at least one song.
                \item Songs have a N:M relationship with albums. A song can be on 1 or more albums, and an album must have at least one song. For this database, we are considering singles to be albums with one song, and albums can have multiple artists. The relationship has an attribute \“track\_no\” which will be used to keep track of the order of songs on an album.
            \end{itemize}
                \item Collection Entity Type: The relationship between the Collection entity type to the User entity is made by enforcing the user\_id attribute as a foreign key when creating a new Collection. Additionally, Song\_Collection is related to the Collection entity by using a collection\_id foreign key at the moment of creation.
        \item User Entity Type: The User is related to the Collection entity through their user\_id which will then keep track of all of their albums, songs, and artists in a created collection
            \begin{itemize}
                \item Users have a N:M relationship with collections. A user can make 0 to many collections, and a collection can be made by 1 to many users.
                \item The user has a N:M relationship with itself, called \“follows.\” Users can follow 0 to many other users or be followed by 0 to many users.
                \item Users will have an N:M relationship with songs, \“listens to.\” Users can listen to 0 to many songs and songs can be listened to by 0 to many users. The relationship has the attribute \“timestamp,\” which we will use to keep track of how often a user listens to a given song.
            \end{itemize}
    \end{itemize}
%
%
%
%
    \subsection{Data Requirements/Constraints}
    In the Follower relationship table, both of the foreign keys, follower and followed, reference the User's uid. These 2 uid fields cannot be the same because the User is not allowed to follow themselves.

    \\~\\

    All of the attributes in our tables are required to be not null.

    \subsection{Sample instance data}

    \\~\\
    \begin{center}
        \begin{tabular}{ |c|c|c|c| }
            \hline
            \rowcolor{tablegrey} \multicolumn{3}{|c|}{Album} \\
            \hline
            \underline{album\_id} &name &release\_date \\
            \hline
            0 & Young, Wild \& Free (feat. Bruno Mars) & 2011-10-11 \\
            \hline
            1 & Asaph's Arrows & 2012-02-28 \\
            \hline
            2 & 2002 & 2018-04-19 \\
            \hline
            3 & Final Straw & 2004-01-01 \\
            \hline
            4 & How It Works & 2001-08-13 \\
            \hline
        \end{tabular}
    \end{center}

    \\~\\

    \begin{center}
        \begin{tabular}{ |c|c|c| }
            \hline
            \rowcolor{tablegrey} \multicolumn{2}{|c|}{Artist} \\
            \hline
            \underline{artist\_id} &name \\
            \hline
            0 & The Destination \\
            \hline
            1 & Coolio \\
            \hline
            2 & G Herbo \\
            \hline
            3 & Tiësto \\
            \hline
            4 & Hot Chocolate \\
            \hline
        \end{tabular}
    \end{center}

    \\~\\

    \begin{center}
        \begin{tabular}{ |c|c|c|c|c| }
            \hline
            \rowcolor{tablegrey} \multicolumn{5}{|c|}{Song} \\
            \hline
            \underline{sid} & length & title & genre & release\_date \\
            \hline
            0 & 153 & For What It's Worth & British soundtrack & 1966-12-05 \\
            \hline
            1 & 326 & Comedown & Alternative emo & 1994-12-06 \\
            \hline
            2 & 328 & Blacken the Cursed Sun & Alternative metal & 2006-08-21 \\
            \hline
            3 & 256 & Machinehead & New romantic & 1994-12-06 \\
            \hline
            4 & 266 & Glycerine & Adult standards & 1994-12-06 \\
            \hline
        \end{tabular}
    \end{center}

    \\~\\

    \begin{table}
        \scriptsize
        \begin{center}
            \begin{tabular}{ |c|c|c|c|c|c|c|c| }
                \hline
                \rowcolor{tablegrey} \multicolumn{8}{|c|}{User} \\
                \hline
                \underline{uid} & username & password & fname & lname & email & last\_login & creation\_date \\
                \hline
                1 & UserFolk & 123456 & John & Doe & jdoe@gmail.com & 2022-02-18 & 2022-02-18\\
                \hline
                2 & BobbyS & password123 & Bob & Smith & bsmith@aol.com & 2022-02-16 & 2022-01-01 \\
                \hline
            \end{tabular}
        \end{center}
    \end{table}

    \\~\\

    \begin{center}
        \begin{tabular}{ |c|c|c| }
            \hline
            \rowcolor{tablegrey} \multicolumn{3}{|c|}{Collection} \\
            \hline
            \underline{cid} & name & \emph{uid} \\
            \hline
            1 & Bangers & 1 \\
            \hline
            2 & Sad Hours & 1 \\
            \hline
            3 & Super Sad Boi Hours & 2 \\
            \hline
            4 & Angry Super Bowl Music & 2 \\
            \hline
            5 & Bath Time Breather & 2 \\
            \hline
        \end{tabular}
    \end{center}

    \\~\\

    \begin{center}
        \begin{tabular}{ |c|c|c| }
            \hline
            \rowcolor{tablegrey} \multicolumn{3}{|c|}{Album\_Song} \\
            \hline
            \underline{ \emph{album\_id} } & \underline{ \emph{sid} } & track\_number \\
            \hline
            7814 & 0 & 1 \\
            \hline
            1169 & 1 & 5 \\
            \hline
            8208 & 2 & 7 \\
            \hline
            1169 & 3 & 7 \\
            \hline
            1169 & 4 & 10 \\
            \hline
        \end{tabular}
    \end{center}

    \\~\\

    \begin{center}
        \begin{tabular}{ |c|c| }
            \hline
            \rowcolor{tablegrey} \multicolumn{2}{|c|}{Album\_Artist} \\
            \hline
            \underline{ \emph{album\_id} } & \underline{ \emph{ artist\_id } } \\
            \hline
            0 & 1902 \\
            \hline
            1 & 505 \\
            \hline
            2 & 3141 \\
            \hline
            3 & 3672 \\
            \hline
            4 & 634 \\
            \hline
        \end{tabular}
    \end{center}

    \\~\\

    \begin{center}
        \begin{tabular}{ |c|c| }
            \hline
            \rowcolor{tablegrey} \multicolumn{2}{|c|}{Song\_Artist} \\
            \hline
            \underline{ \emph{sid} } & \underline{ \emph{artist\_id} } \\
            \hline
            0 & 4019 \\
            \hline
            1 & 3431 \\
            \hline
            2 & 3004 \\
            \hline
            3 & 3431 \\
            \hline
            4 & 3431 \\
            \hline
        \end{tabular}
    \end{center}

    \\~\\

    \begin{center}
        \begin{tabular}{ |c|c| }
            \hline
            \rowcolor{tablegrey} \multicolumn{2}{|c|}{Song\_Collection} \\
            \hline
            \underline{ \emph{sid} } & \underline{ \emph{cid} } \\
            \hline
            1 & 1 \\
            \hline
            3 & 3 \\
            \hline
            2 & 4 \\
            \hline
            4 & 2 \\
            \hline
            5 & 5 \\
            \hline
        \end{tabular}
    \end{center}

    \\~\\

    \begin{center}
        \begin{tabular}{ |c|c| }
            \hline
            \rowcolor{tablegrey} \multicolumn{2}{|c|}{Follower} \\
            \hline
            \underline{ \emph{Follower} } & \underline{ \emph{Followed} } \\
            \hline
            1 & 2 \\
            \hline
        \end{tabular}
    \end{center}

    \\~\\

    \begin{center}
        \begin{tabular}{ |c|c|c| }
            \hline
            \rowcolor{tablegrey} \multicolumn{3}{|c|}{Plays} \\
            \hline
            \underline{ \emph{uid} } & \underline{ \emph{sid} } & timestamp \\
            \hline
            1 & 1 & 2020-02-29 03:00:00.000 \\
            \hline
            1 & 1 & 2020-02-29 03:02:49.600 \\
            \hline
            1 & 2 & 2020-02-29 03:05:01.205 \\
            \hline
            2 & 5 & 2020-02-18 13:02:00.345 \\
            \hline
            2 & 3 & 2020-02-18 13:04:12.102 \\
            \hline
            2 & 1 & 2020-02-18 13:07:18.000 \\
            \hline
            2 & 5 & 2020-02-18 13:09:42.090 \\
            \hline
        \end{tabular}
    \end{center}



    \section{Implementation}
    Use this section to describe the overall implementation of your database. Include samples of SQL statements to create the tables (DDL statements) and a description of the ETL process, including examples of the SQL insert statements used to populate each table initially.

    Include also sample of the SQL insert statements used in your application program to insert new data in the database. Finally, add an appendix of all the SQL statements created in your application during Phase 4 and a description of the indexes created to boost the performance of your application.
    \section{Data Analysis}
    \subsection{Hypothesis}
    Use this section to state the objectives of your data analysis; what are the observations you are expecting to find. Note that your final
    observations may end up differing from your proposal, that is also a valid result.
    \subsection{Data Preprocessing}
    Use this section to describe the preprocessing steps you have performed to prepare the data for the analytics. Preprocessing steps may include: data cleaning (e.g., filling missing values, fixing outliers), formatting the data (e.g., resolving issues like inconsistent abbreviations, multiples date format in the data), combining or splitting fields, add new information (data enrichness).

    Explain how the data was extracted from the database for the analysis; if you used complex queries or views, or both.
    \subsection{Data Analytics \& Visualization}
    Use this section to explain the process/techniques used to analyze the data, use data visualization to present the results, and explain them.
    \subsection{Conclusions}
    Use this section to explain the conclusions drawn from your data analysis.\\
    \section{Lessons Learned}
    Use this section to describe the issues you faced during the project and how you overcame them. Also, describe what you learned during this effort; this section, like the others, plays a critical component in determining your final grade.\\

    {\bf The next subsection is meant to provide you with some help in
    dealing with figures, tables and references, as these are sometimes
    hard for folks new to \LaTeX. Your figures and tables
    may be distributed all over your paper (not just here), as appropriate for your paper.

    Please delete the following subsection before you make any submissions!}

    \subsection{Tables, Figures, and Citations/References}

    Tables, figures, and references in technical
    documents need to be presented correctly. As many students
    are not familiar with using these objects, here is a quick
    guide extracted from the ACM style guide.

    \begin{table}
        \centering
        \caption{Feelings about Issues}
        \label{SAMPLE TABLE}
        \begin{tabular}{|l|r|l|} \hline
        Flavor&Percentage&Comments\\ \hline
        Issue 1 &  10\% & Loved it a lot\\ \hline
        Issue 2 &  20\% & Disliked it immensely\\ \hline
        Issue 3 &  30\% & Didn't care one bit\\ \hline
        Issue 4 &  40\% & Duh?\\ \hline
        \end{tabular}
    \end{table}


    First, note that figures in the report must be original, that is,
    created by the student: please do not cut-and-paste figures from any
    other paper or report you have read or website. Second, if you do need to include figures,
    they should be handled as demonstrated here. State that
    Figure~\ref{SAMPLE FIGURE} is a simple illustration used in the ACM
    Style sample document. Never refer to the figure below (or above)
    because figures may be placed by \LaTeX{} at any appropriate location
    that can change when you recompile your source $.tex$
    file. Incidentally, in proper technical writing (for reasons beyond
    the scope of this discussion), table captions are above the table and
    figure captions are below the figure. So the truly junk information
    about flavors is shown in Table~\ref{SAMPLE TABLE}.

    \begin{figure}[htb]
        \begin{center}

            \includegraphics[width=1.5in]{fly.jpg}
            \caption{A sample black \& white graphic (JPG).}
            \label{SAMPLE FIGURE}
        \end{center}
    \end{figure}

    \section{Resources}
    Include in this section the resources you have used in your project beyond the normal code development such as data sets or data analytic tools (i.e. Weka, R).

\end{document}
